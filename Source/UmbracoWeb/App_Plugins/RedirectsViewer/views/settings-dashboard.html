<div ng-controller="Our.Umbraco.RedirectsViewer.SettingsDashboardController as vm">
    <div ng-if="!vm.loading">
        <p>
            <localize key="redirectsviewer_allowCreating">
                Allow creating
            </localize>
        </p>
        <ul class="unstyled">
            <li>
                <label class="checkbox">
                    <input type="checkbox" ng-model="vm.allowed"/>
                </label>
            </li>
        </ul>

        <ul class="unstyled" ng-if="vm.allowed">
            <li><localize key="redirectsviewer_prevalueUsergroups">Select the user groups that have rights</localize></li>
            <li ng-repeat="item in vm.groups">
                <label class="checkbox">
                    <input type="checkbox" name="groups" value="{{item.alias}}" ng-model="item.checked"/>
                    {{item.name}}
                </label>
            </li>
        </ul>
    </div>
    <umb-button type="button"
                button-style="success"
                label-key="redirectsviewer_saveSettings"
                action="vm.saveSettings('redirects_allowcreate')"
                disabled="vm.working"/>
</div>