<div ng-controller="Our.Umbraco.RedirectsViewer.EditController as vm" style="position:relative">
    <umb-load-indicator ng-if="vm.isLoading">
    </umb-load-indicator>
    <div ng-if="!vm.isLoading">
        <div ng-if="vm.isEnabled">
            <div ng-if="!vm.isCreate">
                <div class="umb-table" ng-if="vm.redirects.length > 0">
                    <!-- Listviews head section -->
                    <div class="umb-table-head">
                        <div class="umb-table-row">
                            <div class="umb-table-cell not-fixed">
                                Original Url
                            </div>
                            <div class="umb-table-cell">
                                Created date (UTC)
                            </div>
                            <div class="umb-table-cell" ng-if="vm.canDelete">
                                &nbsp;
                            </div>
                        </div>
                    </div>
                    <div class="umb-table-body">
                        <div class="umb-table-row" ng-repeat="item in vm.redirects">
                            <div class="umb-table-cell not-fixed">
                                <a class="umb-table-body__link" href="{{item.originalUrl}}" target="_blank">{{item.originalUrl}}</a>
                            </div>
                            <div class="umb-table-cell">
                                <td>{{item.createDateUtc}}</td>
                            </div>
                            <div class="umb-table-cell" style="overflow: visible;" ng-if="vm.canDelete">
                                <i class="icon-trash" style="cursor: pointer" ng-click="vm.showPrompt(item)" prevent-default> </i>
                                <umb-confirm-action ng-if="item.deletePrompt"
                                                    direction="left"
                                                    on-confirm="vm.confirmAction($index,item)"
                                                    on-cancel="vm.hidePrompt(item)">
                                </umb-confirm-action>
                            </div>
                        </div>
                    </div>
                </div>

                <umb-empty-state ng-if="vm.redirects.length === 0"
                                 position="center">
                    No redirects found for this page
                </umb-empty-state>
            </div>
            <div ng-if="vm.isCreate">
                Redirects are not visible because you are creating a new item. After saving this will be visible
            </div>
        </div>
        <div ng-if="!vm.isEnabled">
            Redirects are not enabled. Contact your system administrator to enable them
        </div>
    </div>
</div>